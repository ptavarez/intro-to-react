<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>My React Counter</title>

    <!-- Style Script -->
    <link rel="stylesheet" href="styles.css">

    <!-- React Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.2/react.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.2/react-dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="react.png">

  </head>
  <body>

    <h1>My React Counter</h1>

    <div class="main" id="main"></div>

    <script type="text/babel">

      // create a React component
      let Counter = React.createClass({

        // "this.props" object comes from the component in the ReactDOM.render function
        getInitialState: function() {
          return {
            count: 0,
            threshold: this.props.threshold
          }
        },

        // this function will update our counter
        updateCounter: function() {
          this.setState({ count: this.state.count + 1 })
          if (this.state.count === this.state.threshold) {
            alert('You passed the threshold!')
            this.setState({ threshold: this.state.threshold + 5 })
          }
        },

        // reset the counter variable
        resetCounter: function() {
          this.setState(this.getInitialState())
        },

        // this render function returns the elements that will be
        // inserted into the DOM with the corresponding data
        render: function() {
          return (
            <div>
              <p> Number of clicks: {this.state.count} </p>
              <p> The threshold is set to: {this.state.threshold}</p>
              <button onClick={this.updateCounter}> Click me! </button>
              <button onClick={this.resetCounter}> Reset </button>
            </div>
          )
        }

      })

      // render a React component in the DOM
      // first parameter is the component
      // second parameter is the DOM element we're inserting it into
      ReactDOM.render(
        <Counter threshold={5} />,
        document.getElementById('main')
      )
    </script>

  </body>
</html>
